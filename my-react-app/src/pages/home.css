/* ===== HOME PAGE — DESKTOP SKILL TREE ===== */
@import url('https://fonts.googleapis.com/css2?family=Syne:wght@400;600;700;800&family=JetBrains+Mono:wght@400;600&display=swap');

:root {
  --bg:        #0d0f14;
  --surface:   #161920;
  --surface2:  #1e2130;
  --border:    #2a2f45;
  --text:      #e8ecf8;
  --muted:     #5a607a;
  --accent:    #7c6af5;
  --accent2:   #f5a623;
  --green:     #22c55e;
  --radius:    14px;

  --col-complete:  #22c55e;
  --col-active:    #7c6af5;
  --col-available: #f5a623;
  --col-locked:    #2a2f45;
}

*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

body { background: var(--bg); }

/* ─── Root ───────────────────────────────────────────────────────────────── */
.home-root {
  min-height: 100vh;
  background: var(--bg);
  color: var(--text);
  font-family: 'Syne', sans-serif;
  position: relative;
}

.home-bg-grid {
  position: fixed; inset: 0; z-index: 0;
  background-image:
    linear-gradient(rgba(124,106,245,.035) 1px, transparent 1px),
    linear-gradient(90deg, rgba(124,106,245,.035) 1px, transparent 1px);
  background-size: 48px 48px;
  pointer-events: none;
}

/* ─── Header ─────────────────────────────────────────────────────────────── */
.home-header {
  position: sticky; top: 0; z-index: 100;
  display: flex; align-items: center; gap: 32px;
  padding: 0 40px;
  height: 62px;
  background: rgba(13,15,20,.9);
  backdrop-filter: blur(16px);
  border-bottom: 1px solid var(--border);
}

.home-logo { display: flex; align-items: center; gap: 10px; flex-shrink: 0; }

.home-logo-icon {
  font-family: 'JetBrains Mono', monospace;
  font-size: 1rem; color: var(--accent);
  background: rgba(124,106,245,.12);
  padding: 5px 10px; border-radius: 8px;
  border: 1px solid rgba(124,106,245,.25);
}

.home-logo-text { font-size: 1.2rem; font-weight: 800; letter-spacing: -.4px; }

.home-nav { display: flex; gap: 4px; flex: 1; }

.nav-link {
  padding: 7px 16px; border-radius: 8px;
  font-size: .88rem; font-weight: 600;
  color: var(--muted); text-decoration: none;
  transition: color .15s, background .15s;
}
.nav-link:hover  { color: var(--text); background: var(--surface2); }
.nav-link.active { color: var(--text); background: var(--surface2); }

.home-header-right { display: flex; align-items: center; gap: 10px; margin-left: auto; }

.home-xp-pill, .home-streak-pill {
  display: flex; align-items: center; gap: 6px;
  padding: 5px 14px; border-radius: 99px;
  background: var(--surface2); border: 1px solid var(--border);
  font-size: .82rem; font-weight: 600;
}
.home-xp-pill     { color: var(--accent2); }
.home-streak-pill { color: #ff6b35; }

.home-avatar {
  width: 34px; height: 34px; border-radius: 50%;
  background: linear-gradient(135deg, var(--accent), #a78bfa);
  display: flex; align-items: center; justify-content: center;
  font-size: .7rem; font-weight: 700; cursor: pointer;
}

/* ─── Body: two-column ───────────────────────────────────────────────────── */
.home-body {
  position: relative; z-index: 1;
  display: grid;
  grid-template-columns: 1fr 320px;
  gap: 0;
  max-width: 1200px;
  margin: 0 auto;
  padding: 48px 40px 80px;
  align-items: start;
}

/* ─── Tree main (left col) ───────────────────────────────────────────────── */
.tree-main {
  padding-right: 56px;
  display: flex; flex-direction: column; gap: 40px;
}

.tree-main-header { animation: fadeUp .4s ease both; }

.home-greeting     { font-size: 2.2rem; font-weight: 800; letter-spacing: -.8px; }
.home-greeting-sub { font-size: .95rem; color: var(--muted); margin-top: 6px; }

/* ─── Skill tree ─────────────────────────────────────────────────────────── */
.skill-tree {
  display: flex; flex-direction: column; gap: 48px;
  animation: fadeUp .4s .08s ease both;
}

/* ─── Section block ──────────────────────────────────────────────────────── */
.section-block { display: flex; flex-direction: column; }

.section-header {
  display: flex; align-items: center; gap: 12px;
  margin-bottom: 24px;
  padding-bottom: 14px;
  border-bottom: 1px solid var(--border);
}

.section-title { font-size: 1.05rem; font-weight: 700; letter-spacing: -.2px; }

.sec-badge {
  font-size: .65rem; font-weight: 700; letter-spacing: .08em;
  text-transform: uppercase; padding: 3px 10px; border-radius: 99px;
}
.done-badge   { background: rgba(34,197,94,.1);  color: var(--green); border: 1px solid rgba(34,197,94,.2); }
.locked-badge { background: var(--surface2); color: var(--muted); border: 1px solid var(--border); }

/* ─── Zigzag tree grid ───────────────────────────────────────────────────── */
/*
  5-column grid. --col is 1, 2, or 3:
    col 1 → grid-column 1/3  (left third)
    col 2 → grid-column 2/4  (center)
    col 3 → grid-column 3/5  (right third)
*/
.section-tree {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
}

.tree-row {
  grid-column: calc(var(--col)) / calc(var(--col) + 3);
  display: flex; flex-direction: column; align-items: center;
}

/* ─── Connector ──────────────────────────────────────────────────────────── */
.connector {
  width: 2px; height: 36px;
  background: var(--border);
  border-radius: 2px;
}
.connector-lit { background: rgba(124,106,245,.45); }

/* ─── Lesson node ────────────────────────────────────────────────────────── */
.lesson-node {
  position: relative;
  width: 96px; height: 96px;
  border-radius: 50%;
  border: 3px solid;
  display: flex; flex-direction: column;
  align-items: center; justify-content: center;
  gap: 3px; cursor: pointer;
  background: var(--surface);
  font-family: 'Syne', sans-serif;
  transition: transform .18s, box-shadow .18s;
  margin-bottom: 8px;
}

.status-complete  { border-color: var(--col-complete); background: rgba(34,197,94,.08); }
.status-active    { border-color: var(--col-active);   background: rgba(124,106,245,.1); box-shadow: 0 0 0 5px rgba(124,106,245,.12); }
.status-available { border-color: var(--col-available); background: rgba(245,166,35,.07); }
.status-locked    { border-color: var(--col-locked); cursor: default; opacity: .5; }

.lesson-node:not(:disabled):hover {
  transform: scale(1.12);
  box-shadow: 0 10px 30px rgba(0,0,0,.4);
}

.node-icon  { font-size: 1.75rem; line-height: 1; pointer-events: none; }

.node-label {
  position: absolute;
  bottom: -28px;
  font-size: .68rem; font-weight: 600; color: var(--muted);
  white-space: nowrap; text-align: center;
  max-width: 110px; overflow: hidden; text-overflow: ellipsis;
  pointer-events: none;
}

.node-check {
  position: absolute; top: -4px; right: -4px;
  width: 22px; height: 22px; border-radius: 50%;
  background: var(--col-complete); color: #fff;
  font-size: .7rem; font-weight: 800;
  display: flex; align-items: center; justify-content: center;
  border: 2px solid var(--bg);
}

.node-pulse {
  position: absolute; inset: -7px;
  border-radius: 50%;
  border: 2px solid var(--accent);
  opacity: .45;
  animation: pulse 1.9s ease-in-out infinite;
}

/* ─── Sidebar (right col) ────────────────────────────────────────────────── */
.sidebar {
  position: sticky;
  top: 78px; /* header height + gap */
  display: flex; flex-direction: column; gap: 14px;
  animation: fadeUp .4s .05s ease both;
}

.sidebar-card {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 20px;
}

.sidebar-label {
  font-size: .68rem; font-weight: 700; letter-spacing: .1em;
  text-transform: uppercase; color: var(--muted); margin-bottom: 12px;
}

/* Language pair card */
.lang-pair {
  display: flex; align-items: center; gap: 10px; margin-bottom: 14px;
}

.lang-chip {
  display: flex; align-items: center; gap: 8px;
  padding: 8px 14px; border-radius: 10px;
  font-size: .9rem; font-weight: 700;
  flex: 1; justify-content: center;
}
.lang-chip.from { background: var(--surface2); border: 1px solid var(--border); color: var(--muted); }
.lang-chip.to   { background: rgba(124,106,245,.12); border: 1px solid rgba(124,106,245,.3); color: var(--accent); }

.lang-chip-icon { font-size: 1.1rem; }
.lang-arrow     { font-size: 1.1rem; color: var(--muted); flex-shrink: 0; }

.lang-change-btn {
  width: 100%; padding: 8px;
  background: none; border: 1px dashed var(--border);
  border-radius: 8px; color: var(--muted);
  font-family: 'Syne', sans-serif; font-size: .78rem; font-weight: 600;
  cursor: pointer; transition: border-color .15s, color .15s;
}
.lang-change-btn:hover { border-color: var(--accent); color: var(--accent); }

/* Streak card */
.streak-card { border-color: rgba(255,107,53,.2); }

.streak-top {
  display: flex; align-items: center; gap: 14px; margin-bottom: 16px;
}
.streak-flame  { font-size: 2.8rem; line-height: 1; }
.streak-number { font-size: 2.4rem; font-weight: 800; line-height: 1; color: #ff6b35; }
.streak-label  { font-size: .78rem; color: var(--muted); margin-top: 2px; }

.streak-week {
  display: flex; gap: 6px; margin-bottom: 14px;
}

.streak-pip {
  flex: 1; display: flex; flex-direction: column; align-items: center; gap: 4px;
  background: var(--surface2); border: 1px solid var(--border);
  border-radius: 8px; padding: 7px 4px;
  font-size: .9rem; transition: border-color .2s;
}
.streak-pip.done  { background: rgba(255,107,53,.08); border-color: rgba(255,107,53,.25); }
.streak-pip.today { border-color: var(--accent); }

.pip-day { font-size: .6rem; font-weight: 700; text-transform: uppercase; color: var(--muted); letter-spacing: .05em; }
.streak-pip.done .pip-day { color: #ff6b35; }

.streak-sub { font-size: .75rem; color: var(--muted); line-height: 1.5; }

/* Progress card */
.progress-nums { margin-bottom: 10px; }
.progress-done  { font-size: 1.6rem; font-weight: 800; }
.progress-total { font-size: .9rem; color: var(--muted); }

.progress-track {
  height: 10px; background: var(--surface2);
  border-radius: 99px; overflow: hidden;
  border: 1px solid var(--border); margin-bottom: 8px;
}
.progress-fill {
  height: 100%;
  background: linear-gradient(90deg, var(--accent), #a78bfa);
  border-radius: 99px;
  transition: width .8s cubic-bezier(.34,1.56,.64,1);
}
.progress-pct { font-size: .75rem; color: var(--muted); }

/* Stats card */
.stats-grid {
  display: grid; grid-template-columns: 1fr 1fr; gap: 10px;
}
.stat-item {
  background: var(--surface2); border: 1px solid var(--border);
  border-radius: 10px; padding: 12px;
  display: flex; flex-direction: column; gap: 3px;
  transition: border-color .15s;
}
.stat-item:hover { border-color: var(--accent); }
.stat-val { font-size: 1.3rem; font-weight: 800; }
.stat-key { font-size: .68rem; color: var(--muted); text-transform: uppercase; letter-spacing: .06em; }

/* ─── Lesson tooltip ─────────────────────────────────────────────────────── */
.tooltip-overlay {
  position: fixed; inset: 0; z-index: 200;
  background: rgba(0,0,0,.5);
  backdrop-filter: blur(6px);
  display: flex; align-items: center; justify-content: center;
  animation: fadeIn .18s ease;
}

.lesson-tooltip {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 20px;
  padding: 28px 32px;
  width: 460px;
  display: flex; align-items: center; gap: 20px;
  animation: popIn .22s cubic-bezier(.34,1.56,.64,1);
  box-shadow: 0 24px 60px rgba(0,0,0,.5);
}

.tt-icon  { font-size: 2.8rem; flex-shrink: 0; }
.tt-body  { flex: 1; }
.tt-title { font-size: 1.15rem; font-weight: 700; }
.tt-desc  { font-size: .85rem; color: var(--muted); margin-top: 5px; line-height: 1.5; }
.tt-xp    { font-size: .78rem; color: var(--accent2); font-weight: 700; margin-top: 8px; }

.tt-btn {
  flex-shrink: 0; padding: 12px 22px;
  background: var(--accent); color: #fff;
  font-family: 'Syne', sans-serif; font-size: .9rem; font-weight: 700;
  border-radius: 12px; text-decoration: none;
  transition: transform .15s, box-shadow .15s;
  box-shadow: 0 4px 20px rgba(124,106,245,.4);
  white-space: nowrap;
}
.tt-btn:hover { transform: translateY(-2px); box-shadow: 0 8px 30px rgba(124,106,245,.55); }

/* ─── Footer ─────────────────────────────────────────────────────────────── */
.home-footer {
  position: relative; z-index: 1;
  text-align: center; padding: 20px;
  font-size: .78rem; color: var(--muted);
  border-top: 1px solid var(--border);
}
.home-footer em { color: var(--accent); font-style: normal; }

/* ─── Animations ─────────────────────────────────────────────────────────── */
@keyframes fadeUp {
  from { opacity: 0; transform: translateY(14px); }
  to   { opacity: 1; transform: translateY(0); }
}
@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
@keyframes popIn {
  from { opacity: 0; transform: scale(.92); }
  to   { opacity: 1; transform: scale(1); }
}
@keyframes pulse {
  0%, 100% { transform: scale(1);    opacity: .45; }
  50%       { transform: scale(1.14); opacity: .12; }
}
