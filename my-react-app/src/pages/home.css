/* ===== HOME PAGE — FULL WIDTH DESKTOP ===== */


/* we put home body and section tree to set max widths */

@import url('https://fonts.googleapis.com/css2?family=Syne:wght@400;600;700;800&family=JetBrains+Mono:wght@400;600&display=swap');

:root {
  --bg:        #fdf6ee;
  --bg2:       #faeee0;
  --surface:   #fff9f4;
  --surface2:  #f5e8d8;
  --border:    #e8d5c0;
  --text:      #3b1f0a;
  --muted:     #a07850;
  --accent:    #c0633a;
  --accent2:   #d4943a;
  --green:     #4a9e6b;
  --radius:    14px;
  --col-complete:  #4a9e6b;
  --col-active:    #c0633a;
  --col-available: #d4943a;
  --col-locked:    #e8d5c0;
}

*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
html, body { width: 100%; min-height: 100vh; background: var(--bg); overflow-x: hidden; font-family: 'Syne', sans-serif; }

/* ─── Root ───────────────────────────────────────────────────────────────── */
.home-root {
  width: 100%; min-height: 100vh;
  background: var(--bg); color: var(--text);
  font-family: 'Syne', sans-serif;
  position: relative;
}

.home-bg-grid {
  position: fixed; inset: 0; z-index: 0;
  background-image:
    radial-gradient(circle at 20% 20%, rgba(192,99,58,.07) 0%, transparent 55%),
    radial-gradient(circle at 80% 80%, rgba(212,148,58,.07) 0%, transparent 55%);
  pointer-events: none;
}

/* ─── Header ─────────────────────────────────────────────────────────────── */
.home-header {
  position: sticky; top: 0; z-index: 100;
  display: flex; align-items: center; gap: 32px;
  padding: 0 48px; height: 62px;
  background: rgba(253,246,238,.92);
  backdrop-filter: blur(16px);
  border-bottom: 1px solid var(--border);
  box-shadow: 0 1px 12px rgba(59,31,10,.06);
}
.home-logo { display: flex; align-items: center; gap: 10px; flex-shrink: 0; }
.home-logo-icon {
  font-family: 'JetBrains Mono', monospace;
  font-size: 1rem; color: var(--accent);
  background: rgba(192,99,58,.1);
  padding: 5px 10px; border-radius: 8px;
  border: 1px solid rgba(192,99,58,.2);
}
.home-logo-text { font-size: 1.2rem; font-weight: 800; letter-spacing: -.4px; color: var(--text); }

.home-nav { display: flex; gap: 4px; flex: 1; }
.nav-link {
  padding: 7px 16px; border-radius: 8px;
  font-size: .88rem; font-weight: 600;
  color: var(--muted); text-decoration: none;
  transition: color .15s, background .15s;
}
.nav-link:hover  { color: var(--text); background: var(--surface2); }
.nav-link.active { color: var(--text); background: var(--surface2); }

.home-header-right { display: flex; align-items: center; gap: 10px; margin-left: auto; }
.home-streak-pill {
  display: flex; align-items: center; gap: 6px;
  padding: 5px 14px; border-radius: 99px;
  background: var(--surface2); border: 1px solid var(--border);
  font-size: .82rem; font-weight: 600; color: #c05a28;
}
.home-avatar {
  width: 34px; height: 34px; border-radius: 50%;
  background: linear-gradient(135deg, var(--accent), #e8a070);
  display: flex; align-items: center; justify-content: center;
  font-size: .7rem; font-weight: 700; color: #fff;
  box-shadow: 0 2px 8px rgba(192,99,58,.3);
}

/* ─── Body layout ────────────────────────────────────────────────────────── */
.home-body {
  position: relative; z-index: 1;
  max-width: 1400px; margin: 0 auto;
  display: grid; grid-template-columns: 1fr 340px;
  align-items: start;
  padding: 48px 48px 80px; gap: 0;
}
.tree-main {
  min-width: 0; padding-right: 60px;
  display: flex; flex-direction: column; gap: 44px;
}
.home-greeting { font-size: 2.4rem; font-weight: 800; letter-spacing: -.8px; color: var(--text); }
.home-greeting-sub { font-size: .95rem; color: var(--muted); margin-top: 6px; }

/* ─── Skill tree ─────────────────────────────────────────────────────────── */
.skill-tree { display: flex; flex-direction: column; gap: 52px; }

.section-block { display: flex; flex-direction: column; }
.section-header {
  display: flex; align-items: center; gap: 12px;
  margin-bottom: 28px; padding-bottom: 16px;
  border-bottom: 1px solid var(--border);
}
.section-title { font-size: 1.1rem; font-weight: 700; letter-spacing: -.2px; color: var(--text); }
.sec-badge {
  font-size: .65rem; font-weight: 700; letter-spacing: .08em;
  text-transform: uppercase; padding: 3px 10px; border-radius: 99px;
}
.done-badge   { background: rgba(74,158,107,.1); color: var(--green); border: 1px solid rgba(74,158,107,.2); }
.locked-badge { background: var(--surface2); color: var(--muted); border: 1px solid var(--border); }

/* ─── Zigzag tree ────────────────────────────────────────────────────────── */
.section-tree {
  max-width: 900px; margin: 0 auto; width: 100%;
  display: grid; grid-template-columns: repeat(7, 1fr);
}
.tree-row {
  grid-column: calc((var(--col) - 1) * 2 + 1) / calc((var(--col) - 1) * 2 + 4);
  display: flex;
  flex-direction: column;
  align-items: center;
  margin-bottom: 20px;
}
.connector {
  width: 2px;
  height: 50px;
  background: var(--border);
  border-radius: 2px;
  transition: background 0.3s ease;
}

.connector-lit {
  background: var(--accent);
  box-shadow: 0 0 6px rgba(192,99,58,.5);
}
/* ─── Lesson node ────────────────────────────────────────────────────────── */
.lesson-node {
  position: relative; width: 108px; height: 108px;
  border-radius: 50%; border: 3px solid;
  display: flex; flex-direction: column;
  align-items: center; justify-content: center;
  gap: 3px; cursor: pointer;
  font-family: 'Syne', sans-serif;
  background: var(--surface);
  transition: transform .18s, box-shadow .18s;
  margin-bottom: 10px;
}
.lesson-node:disabled { cursor: default; }

.status-complete {
  border-color: var(--col-complete);
  background: rgba(74,158,107,.07);
  box-shadow: 0 4px 18px rgba(74,158,107,.15);
}
.status-active {
  border-color: var(--col-active);
  background: rgba(192,99,58,.07);
  box-shadow: 0 0 0 6px rgba(192,99,58,.1), 0 6px 20px rgba(192,99,58,.2);
}
.status-available {
  border-color: var(--col-available);
  background: rgba(212,148,58,.07);
  box-shadow: 0 4px 18px rgba(212,148,58,.15);
}
.status-locked { border-color: var(--col-locked); opacity: .45; box-shadow: none; }

.lesson-node:not(:disabled):hover {
  transform: scale(1.1);
  box-shadow: 0 12px 32px rgba(59,31,10,.18);
}
.node-icon { font-size: 2rem; line-height: 1; pointer-events: none; }
.node-label {
  position: absolute; bottom: -30px;
  font-size: .7rem; font-weight: 600; color: var(--muted);
  white-space: nowrap; text-align: center;
  max-width: 120px; overflow: hidden; text-overflow: ellipsis;
  pointer-events: none;
}
.node-check {
  position: absolute; top: -4px; right: -4px;
  width: 24px; height: 24px; border-radius: 50%;
  background: var(--col-complete); color: #fff;
  font-size: .72rem; font-weight: 800;
  display: flex; align-items: center; justify-content: center;
  border: 2px solid var(--bg);
  box-shadow: 0 2px 6px rgba(74,158,107,.3);
}
.node-pulse {
  position: absolute; inset: -8px; border-radius: 50%;
  border: 2px solid var(--accent); opacity: .35;
  animation: pulse 1.9s ease-in-out infinite;
}

/* ─── Sidebar ────────────────────────────────────────────────────────────── */
.sidebar {
  position: sticky; top: 80px;
  display: flex; flex-direction: column; gap: 14px;
}
.sidebar-card {
  background: var(--surface); border: 1px solid var(--border);
  border-radius: var(--radius); padding: 20px;
  box-shadow: 0 2px 16px rgba(59,31,10,.07);
}
.sidebar-label {
  font-size: .68rem; font-weight: 700; letter-spacing: .1em;
  text-transform: uppercase; color: var(--muted); margin-bottom: 12px;
}

/* Language pair */
.lang-pair { display: flex; align-items: center; gap: 10px; margin-bottom: 14px; }
.lang-chip {
  display: flex; align-items: center; gap: 8px;
  padding: 9px 14px; border-radius: 10px;
  font-size: .9rem; font-weight: 700;
  flex: 1; justify-content: center;
}
.lang-chip.from { background: var(--surface2); border: 1px solid var(--border); color: var(--muted); }
.lang-chip.to   { background: rgba(192,99,58,.1); border: 1px solid rgba(192,99,58,.25); color: var(--accent); }
.lang-chip-icon { font-size: 1.1rem; }
.lang-arrow { font-size: 1.1rem; color: var(--muted); flex-shrink: 0; }
.lang-change-btn {
  width: 100%; padding: 9px;
  background: none; border: 1px dashed var(--border);
  border-radius: 8px; color: var(--muted);
  font-family: 'Syne', sans-serif; font-size: .78rem; font-weight: 600;
  cursor: pointer; transition: border-color .15s, color .15s;
}
.lang-change-btn:hover { border-color: var(--accent); color: var(--accent); }

/* Streak */
.streak-card { border-color: rgba(192,90,40,.2); }
.streak-top  { display: flex; align-items: center; gap: 14px; margin-bottom: 16px; }
.streak-flame  { font-size: 2.8rem; line-height: 1; }
.streak-number { font-size: 2.4rem; font-weight: 800; line-height: 1; color: #c05a28; }
.streak-label  { font-size: .78rem; color: var(--muted); margin-top: 2px; }
.streak-week { display: flex; gap: 6px; margin-bottom: 14px; }
.streak-pip {
  flex: 1; display: flex; flex-direction: column; align-items: center; gap: 4px;
  background: var(--surface2); border: 1px solid var(--border);
  border-radius: 8px; padding: 8px 4px; font-size: .9rem;
}
.streak-pip.done  { background: rgba(192,90,40,.08); border-color: rgba(192,90,40,.25); }
.streak-pip.today { border-color: var(--accent); }
.pip-day { font-size: .6rem; font-weight: 700; text-transform: uppercase; color: var(--muted); letter-spacing: .05em; }
.streak-pip.done .pip-day { color: #c05a28; }
.streak-sub { font-size: .75rem; color: var(--muted); line-height: 1.5; }

/* Progress */
.progress-nums { margin-bottom: 10px; }
.progress-done  { font-size: 1.7rem; font-weight: 800; color: var(--text); }
.progress-total { font-size: .9rem; color: var(--muted); }
.progress-track {
  height: 10px; background: var(--surface2); border-radius: 99px;
  overflow: hidden; border: 1px solid var(--border); margin-bottom: 8px;
}
.progress-fill {
  height: 100%;
  background: linear-gradient(90deg, var(--accent), #e8956a);
  border-radius: 99px;
  transition: width .8s cubic-bezier(.34,1.56,.64,1);
}
.progress-pct { font-size: .75rem; color: var(--muted); }

/* Stats */
.stats-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
.stat-item {
  background: var(--surface2); border: 1px solid var(--border);
  border-radius: 10px; padding: 13px;
  display: flex; flex-direction: column; gap: 3px;
  transition: border-color .15s, box-shadow .15s;
}
.stat-item:hover { border-color: var(--accent); box-shadow: 0 2px 10px rgba(192,99,58,.1); }
.stat-val { font-size: 1.35rem; font-weight: 800; color: var(--text); }
.stat-key { font-size: .68rem; color: var(--muted); text-transform: uppercase; letter-spacing: .06em; }

/* ─── Tooltip ────────────────────────────────────────────────────────────── */
.tooltip-overlay {
  position: fixed; inset: 0; z-index: 200;
  background: rgba(59,31,10,.3);
  backdrop-filter: blur(6px);
  display: flex; align-items: center; justify-content: center;
  animation: fadeIn .18s ease;
}
.lesson-tooltip {
  background: var(--surface); border: 1px solid var(--border);
  border-radius: 20px; padding: 32px 36px; width: 500px;
  display: flex; align-items: center; gap: 22px;
  animation: popIn .22s cubic-bezier(.34,1.56,.64,1);
  box-shadow: 0 28px 64px rgba(59,31,10,.2);
}
.tt-icon  { font-size: 3rem; flex-shrink: 0; }
.tt-body  { flex: 1; }
.tt-title { font-size: 1.2rem; font-weight: 700; color: var(--text); }
.tt-desc  { font-size: .87rem; color: var(--muted); margin-top: 5px; line-height: 1.5; }
.tt-xp    { font-size: .8rem; color: var(--accent2); font-weight: 700; margin-top: 8px; }
.tt-btn {
  flex-shrink: 0; padding: 13px 24px;
  background: var(--accent); color: #fff;
  font-family: 'Syne', sans-serif; font-size: .92rem; font-weight: 700;
  border-radius: 12px; border: none; cursor: pointer;
  transition: transform .15s, box-shadow .15s;
  box-shadow: 0 4px 20px rgba(192,99,58,.35);
  white-space: nowrap;
}
.tt-btn:hover { transform: translateY(-2px); box-shadow: 0 8px 30px rgba(192,99,58,.5); }

/* ─── Footer ─────────────────────────────────────────────────────────────── */
.home-footer {
  position: relative; z-index: 1;
  text-align: center; padding: 20px;
  font-size: .78rem; color: var(--muted);
  border-top: 1px solid var(--border);
}
.home-footer em { color: var(--accent); font-style: normal; }

/* ─── Animations ─────────────────────────────────────────────────────────── */
@keyframes fadeUp { from { opacity:0; transform:translateY(14px); } to { opacity:1; transform:translateY(0); } }
@keyframes fadeIn { from { opacity:0; } to { opacity:1; } }
@keyframes popIn  { from { opacity:0; transform:scale(.92); } to { opacity:1; transform:scale(1); } }
@keyframes pulse  { 0%,100%{transform:scale(1);opacity:.35;} 50%{transform:scale(1.14);opacity:.1;} }

.skill-tree, .tree-main-header { animation: fadeUp .4s ease both; }
.sidebar { animation: fadeUp .4s .05s ease both; }